{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n    email: \"\",\n    message: \"\",\n}\n\nconst formEl = document.querySelector('.feedback-form');\nconst textareaEl = document.querySelector('textarea');\n\nformEl.addEventListener ('input', ()=> {\n    const formData = new FormData(formEl);\n    const email = formData.get('email');\n    const message = formData.get('message');\n    const data = {email, message}\n\n    saveToLS('email', email)\nsaveToLS('message', message)\nsaveToLS('feedback-form-state', data)\n})\n\n\n\nformEl.addEventListener(\"submit\", e => {\n    e.preventDefault();\n\n    const formData = new FormData(formEl);\n    const email = formData.get('email');\n    const message = formData.get('message');\n    const data = {email, message}\n\n    if (!email || !message) {\n        alert('Fill please all fields');\n        return;\n    }\n    console.log(data);\n    \n    localStorage.removeItem('email');\n    localStorage.removeItem('message');\n    localStorage.removeItem('feedback-form-state');\n    \n    formData.email = \"\";\n    formData.message = \"\";\n    \n    formEl.reset();\n});\n\nfunction saveToLS (key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData)\n}\n\nfunction loadFromLS(key) {\n    const json = localStorage.getItem(key);\n    try {\n        const data = JSON.parse(json);\n        return data;\n    } catch {\n        return json\n    }\n}\n\nwindow.addEventListener('DOMContentLoaded', () => {\n    const email = loadFromLS('email');\n    const message = loadFromLS ('message')\n\n    if (email) {\n        formData.email = email;\n        formEl.querySelector('input[name=\"email\"]').value = email;\n    }\n    \n    if (message) {\n        formData.message = message;\n        formEl.querySelector('textarea[name=\"message\"]').value = message;\n    }\n});\n\n\n"],"names":["formEl","formData","email","message","data","saveToLS","e","key","value","jsonData","loadFromLS","json"],"mappings":"wFAKA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EACnC,SAAS,cAAc,UAAU,EAEpDA,EAAO,iBAAkB,QAAS,IAAK,CACnC,MAAMC,EAAW,IAAI,SAASD,CAAM,EAC9BE,EAAQD,EAAS,IAAI,OAAO,EAC5BE,EAAUF,EAAS,IAAI,SAAS,EAChCG,EAAO,CAAC,MAAAF,EAAO,QAAAC,CAAO,EAE5BE,EAAS,QAASH,CAAK,EAC3BG,EAAS,UAAWF,CAAO,EAC3BE,EAAS,sBAAuBD,CAAI,CACpC,CAAC,EAIDJ,EAAO,iBAAiB,SAAUM,GAAK,CACnCA,EAAE,eAAc,EAEhB,MAAML,EAAW,IAAI,SAASD,CAAM,EAC9BE,EAAQD,EAAS,IAAI,OAAO,EAC5BE,EAAUF,EAAS,IAAI,SAAS,EAChCG,EAAO,CAAC,MAAAF,EAAO,QAAAC,CAAO,EAE5B,GAAI,CAACD,GAAS,CAACC,EAAS,CACpB,MAAM,wBAAwB,EAC9B,MACH,CACD,QAAQ,IAAIC,CAAI,EAEhB,aAAa,WAAW,OAAO,EAC/B,aAAa,WAAW,SAAS,EACjC,aAAa,WAAW,qBAAqB,EAE7CH,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEnBD,EAAO,MAAK,CAChB,CAAC,EAED,SAASK,EAAUE,EAAKC,EAAO,CAC3B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CAEA,SAASC,EAAWH,EAAK,CACrB,MAAMI,EAAO,aAAa,QAAQJ,CAAG,EACrC,GAAI,CAEA,OADa,KAAK,MAAMI,CAAI,CAEpC,MAAY,CACJ,OAAOA,CACV,CACL,CAEA,OAAO,iBAAiB,mBAAoB,IAAM,CAC9C,MAAMT,EAAQQ,EAAW,OAAO,EAC1BP,EAAUO,EAAY,SAAS,EAEjCR,IAEAF,EAAO,cAAc,qBAAqB,EAAE,MAAQE,GAGpDC,IAEAH,EAAO,cAAc,0BAA0B,EAAE,MAAQG,EAEjE,CAAC"}